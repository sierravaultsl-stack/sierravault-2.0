{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/lib/dbConnect.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\r\n}\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\nlet cached = (global as any).mongoose;\r\n\r\nif (!cached) {\r\n  cached = (global as any).mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached.conn) {\r\n    return cached.conn;\r\n  }\r\n\r\n  if (!cached.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached.promise = mongoose.connect(MONGODB_URI!, opts).then((mongoose) => {\r\n      return mongoose;\r\n    });\r\n  }\r\n\r\n  try {\r\n    cached.conn = await cached.promise;\r\n  } catch (e) {\r\n    cached.promise = null;\r\n    throw e;\r\n  }\r\n\r\n  return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MAAM;AAClB;AAEA;;;;CAIC,GACD,IAAI,SAAS,yDAAgB,QAAQ;AAErC,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAgB,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAClE;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QAEA,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAc,MAAM,IAAI,CAAC,CAAC;YAC1D,OAAO;QACT;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/lib/getDocumentById.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport dbConnect from \"@/lib/dbConnect\"\r\n\r\nimport mongoose from \"mongoose\"\r\n\r\nexport async function getDocumentById(id: string) {\r\n    try {\r\n        await dbConnect()\r\n\r\n        if (!mongoose.Types.ObjectId.isValid(id)) {\r\n            return null\r\n        }\r\n\r\n        const doc = await import(\"@/models/Document\").then(mod => mod.default.findById(id).lean());\r\n\r\n        if (!doc) {\r\n            return null\r\n        }\r\n\r\n        return {\r\n            _id: doc._id.toString(),\r\n            label: doc.title, // Map title to label\r\n            url: doc.url, // Note: This exposes URL to Server Component. Be careful passing to Client.\r\n            type: doc.type,\r\n            uploadedAt: doc.createdAt,\r\n            blockchainHash: doc.metadata?.fileHash || null,\r\n            userId: doc.userId?.toString() ?? null,\r\n            status: doc.status\r\n        }\r\n    } catch (err) {\r\n        console.error(\"getDocumentById error:\", err)\r\n        return null\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;;;;;AAEO,eAAe,gBAAgB,EAAU;IAC5C,IAAI;QACA,MAAM,IAAA,2HAAS;QAEf,IAAI,CAAC,oHAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK;YACtC,OAAO;QACX;QAEA,MAAM,MAAM,MAAM,6FAA4B,IAAI,CAAC,CAAA,MAAO,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI;QAEvF,IAAI,CAAC,KAAK;YACN,OAAO;QACX;QAEA,OAAO;YACH,KAAK,IAAI,GAAG,CAAC,QAAQ;YACrB,OAAO,IAAI,KAAK;YAChB,KAAK,IAAI,GAAG;YACZ,MAAM,IAAI,IAAI;YACd,YAAY,IAAI,SAAS;YACzB,gBAAgB,IAAI,QAAQ,EAAE,YAAY;YAC1C,QAAQ,IAAI,MAAM,EAAE,cAAc;YAClC,QAAQ,IAAI,MAAM;QACtB;IACJ,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;IACX;AACJ;;;IA5BsB;;AAAA,8WAAA"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/app/actions/sierra-chat.ts"],"sourcesContent":["// --- app/actions/sierra-chat.ts ---\r\n\"use server\"\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\"\r\n\r\nconst SIERRA_VAULT_CONTEXT = `\r\nYou are the official AI Assistant for SierraVault, a decentralized platform for secure document storage and verification in Sierra Leone.\r\n\r\nYour knowledge base:\r\n1. PURPOSE: SierraVault allows users to store critical documents (Land Deeds, Academic Certificates, Legal Contracts) on a secure, immutable blockchain.\r\n2. SECURITY: We use cryptographic hashing to ensure documents cannot be tampered with.\r\n3. FEATURES: \r\n   - \"Upload\": Users can digitize and encrypt documents.\r\n   - \"Verify\": Third parties can check the authenticity of a document using its unique hash.\r\n   - \"Share\": Secure, time-limited sharing of documents.\r\n4. TONE: Professional, helpful, secure, and concise.\r\n\r\nIf a user asks about something unrelated to documents, security, or Sierra Leone, politely steer them back to SierraVault's services.\r\n`\r\n\r\nexport async function getSierraAIResponse(history: any[], userMessage: string) {\r\n    const apiKey = process.env.GOOGLE_API_KEY\r\n\r\n    if (!apiKey) {\r\n        return { error: \"Configuration Error: API Key is missing.\" }\r\n    }\r\n\r\n    try {\r\n        const genAI = new GoogleGenerativeAI(apiKey)\r\n        const model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" })\r\n\r\n        // We prepend the System Context to the history purely for the AI's understanding\r\n        const chat = model.startChat({\r\n            history: [\r\n                {\r\n                    role: \"user\",\r\n                    parts: [{ text: SIERRA_VAULT_CONTEXT }]\r\n                },\r\n                {\r\n                    role: \"model\",\r\n                    parts: [{ text: \"Understood. I am ready to assist SierraVault users.\" }]\r\n                },\r\n                ...history.map(msg => ({\r\n                    role: msg.role === \"assistant\" ? \"model\" : \"user\",\r\n                    parts: [{ text: msg.content }]\r\n                }))\r\n            ]\r\n        })\r\n\r\n        const result = await chat.sendMessage(userMessage)\r\n        const response = await result.response\r\n        return { success: response.text() }\r\n\r\n    } catch (error) {\r\n        console.error(\"AI Error:\", error)\r\n        return { error: \"I'm having trouble connecting to the secure node. Please try again in a moment.\" }\r\n    }\r\n}"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;;;;AAEA,MAAM,uBAAuB,CAAC;;;;;;;;;;;;;AAa9B,CAAC;AAEM,eAAe,oBAAoB,OAAc,EAAE,WAAmB;IACzE,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;IAEzC,IAAI,CAAC,QAAQ;QACT,OAAO;YAAE,OAAO;QAA2C;IAC/D;IAEA,IAAI;QACA,MAAM,QAAQ,IAAI,8PAAkB,CAAC;QACrC,MAAM,QAAQ,MAAM,kBAAkB,CAAC;YAAE,OAAO;QAAmB;QAEnE,iFAAiF;QACjF,MAAM,OAAO,MAAM,SAAS,CAAC;YACzB,SAAS;gBACL;oBACI,MAAM;oBACN,OAAO;wBAAC;4BAAE,MAAM;wBAAqB;qBAAE;gBAC3C;gBACA;oBACI,MAAM;oBACN,OAAO;wBAAC;4BAAE,MAAM;wBAAsD;qBAAE;gBAC5E;mBACG,QAAQ,GAAG,CAAC,CAAA,MAAO,CAAC;wBACnB,MAAM,IAAI,IAAI,KAAK,cAAc,UAAU;wBAC3C,OAAO;4BAAC;gCAAE,MAAM,IAAI,OAAO;4BAAC;yBAAE;oBAClC,CAAC;aACJ;QACL;QAEA,MAAM,SAAS,MAAM,KAAK,WAAW,CAAC;QACtC,MAAM,WAAW,MAAM,OAAO,QAAQ;QACtC,OAAO;YAAE,SAAS,SAAS,IAAI;QAAG;IAEtC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,aAAa;QAC3B,OAAO;YAAE,OAAO;QAAkF;IACtG;AACJ;;;IArCsB;;AAAA,8WAAA"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/.next-internal/server/app/verify/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getDocumentById as '40365f388d6b63ed5938c46b46528be963d9ca37ae'} from 'ACTIONS_MODULE0'\nexport {getSierraAIResponse as '604d77b2fdba5798f2d407006e740e53a77901b443'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs","sources":[],"sourcesContent":[],"names":[],"mappings":""}}]
}