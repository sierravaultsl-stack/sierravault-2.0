{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/app/actions/sierra-chat.ts"],"sourcesContent":["// --- app/actions/sierra-chat.ts ---\r\n\"use server\"\r\n\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\"\r\n\r\nconst SIERRA_VAULT_CONTEXT = `\r\nYou are the official AI Assistant for SierraVault, a decentralized platform for secure document storage and verification in Sierra Leone.\r\n\r\nYour knowledge base:\r\n1. PURPOSE: SierraVault allows users to store critical documents (Land Deeds, Academic Certificates, Legal Contracts) on a secure, immutable blockchain.\r\n2. SECURITY: We use cryptographic hashing to ensure documents cannot be tampered with.\r\n3. FEATURES: \r\n   - \"Upload\": Users can digitize and encrypt documents.\r\n   - \"Verify\": Third parties can check the authenticity of a document using its unique hash.\r\n   - \"Share\": Secure, time-limited sharing of documents.\r\n4. TONE: Professional, helpful, secure, and concise.\r\n\r\nIf a user asks about something unrelated to documents, security, or Sierra Leone, politely steer them back to SierraVault's services.\r\n`\r\n\r\nexport async function getSierraAIResponse(history: any[], userMessage: string) {\r\n    const apiKey = process.env.GOOGLE_API_KEY\r\n\r\n    if (!apiKey) {\r\n        return { error: \"Configuration Error: API Key is missing.\" }\r\n    }\r\n\r\n    try {\r\n        const genAI = new GoogleGenerativeAI(apiKey)\r\n        const model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" })\r\n\r\n        // We prepend the System Context to the history purely for the AI's understanding\r\n        const chat = model.startChat({\r\n            history: [\r\n                {\r\n                    role: \"user\",\r\n                    parts: [{ text: SIERRA_VAULT_CONTEXT }]\r\n                },\r\n                {\r\n                    role: \"model\",\r\n                    parts: [{ text: \"Understood. I am ready to assist SierraVault users.\" }]\r\n                },\r\n                ...history.map(msg => ({\r\n                    role: msg.role === \"assistant\" ? \"model\" : \"user\",\r\n                    parts: [{ text: msg.content }]\r\n                }))\r\n            ]\r\n        })\r\n\r\n        const result = await chat.sendMessage(userMessage)\r\n        const response = await result.response\r\n        return { success: response.text() }\r\n\r\n    } catch (error) {\r\n        console.error(\"AI Error:\", error)\r\n        return { error: \"I'm having trouble connecting to the secure node. Please try again in a moment.\" }\r\n    }\r\n}"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;;;;AAEA,MAAM,uBAAuB,CAAC;;;;;;;;;;;;;AAa9B,CAAC;AAEM,eAAe,oBAAoB,OAAc,EAAE,WAAmB;IACzE,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;IAEzC,IAAI,CAAC,QAAQ;QACT,OAAO;YAAE,OAAO;QAA2C;IAC/D;IAEA,IAAI;QACA,MAAM,QAAQ,IAAI,8PAAkB,CAAC;QACrC,MAAM,QAAQ,MAAM,kBAAkB,CAAC;YAAE,OAAO;QAAmB;QAEnE,iFAAiF;QACjF,MAAM,OAAO,MAAM,SAAS,CAAC;YACzB,SAAS;gBACL;oBACI,MAAM;oBACN,OAAO;wBAAC;4BAAE,MAAM;wBAAqB;qBAAE;gBAC3C;gBACA;oBACI,MAAM;oBACN,OAAO;wBAAC;4BAAE,MAAM;wBAAsD;qBAAE;gBAC5E;mBACG,QAAQ,GAAG,CAAC,CAAA,MAAO,CAAC;wBACnB,MAAM,IAAI,IAAI,KAAK,cAAc,UAAU;wBAC3C,OAAO;4BAAC;gCAAE,MAAM,IAAI,OAAO;4BAAC;yBAAE;oBAClC,CAAC;aACJ;QACL;QAEA,MAAM,SAAS,MAAM,KAAK,WAAW,CAAC;QACtC,MAAM,WAAW,MAAM,OAAO,QAAQ;QACtC,OAAO;YAAE,SAAS,SAAS,IAAI;QAAG;IAEtC,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,aAAa;QAC3B,OAAO;YAAE,OAAO;QAAkF;IACtG;AACJ;;;IArCsB;;AAAA,8WAAA"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/.next-internal/server/app/dashboard/me/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getSierraAIResponse as '604d77b2fdba5798f2d407006e740e53a77901b443'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n"],"names":["registerServerReference"],"mappings":"AAAA,oDAAoD;;;+BAC3CA,2BAAAA;;;eAAAA,QAAAA,uBAAuB;;;wBAAQ","ignoreList":[0]}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs","sources":[],"sourcesContent":[],"names":[],"mappings":""}},
    {"offset": {"line": 1651, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/A10%20Projects/SierraVaultMain/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts"],"sourcesContent":["// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n"],"names":["ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"AAAA,+EAA+E;AAC/E,yEAAyE;AACzE,iEAAiE;;;;+BACjDA,4BAAAA;;;eAAAA;;;AAAT,SAASA,yBAAyBC,OAAc;IACrD,IAAK,IAAIC,IAAI,GAAGA,IAAID,QAAQE,MAAM,EAAED,IAAK;QACvC,MAAME,SAASH,OAAO,CAACC,EAAE;QACzB,IAAI,OAAOE,WAAW,YAAY;YAChC,MAAM,OAAA,cAEL,CAFK,IAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,OAAO,uEAAuE,CAAC,GADhJ,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;IACF;AACF","ignoreList":[0]}}]
}